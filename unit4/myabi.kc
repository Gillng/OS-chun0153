import "string"

void enable_syscalls () {
	*(unsigned char *)$D02F = $47;
	*(unsigned char *)$D02F = $53;
}

void call_syscall00() {
	enable_syscalls();
	*(unsigned char *)$D640 = $00;
	asm { nop }
}

void call_syscall01() {
	enable_syscalls();
	*(unsigned char *)$D641 = $00;
	asm { nop }
}

void print_string(char *string) {
	unsigned char *mem = $0300;
	
	while (*string) {
		*mem++ = *string++;
	}
	*mem = 0;	
	enable_syscalls();
	*(unsigned char *)$D642 = $00;
	asm { nop }
}